<<<<<<< HEAD
-- MySQL Script generated by MySQL Workbench
-- Sat May 19 14:10:19 2018
=======
ï»¿-- MySQL Script generated by MySQL Workbench
-- Sun May 27 14:15:55 2018
>>>>>>> component
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema database-qllk
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema database-qllk
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `database-qllk` DEFAULT CHARACTER SET utf8 ;
USE `database-qllk` ;

-- -----------------------------------------------------
<<<<<<< HEAD
-- Table `database-qllk`.`LOAIMATHANG`
=======

-- Table `database-qllk`.`KHO`

-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `database-qllk`.`KHO` (

  `MaKhu` VARCHAR(4) NOT NULL,

  `TenKhu` NVARCHAR(45) NULL,

  PRIMARY KEY (`MaKhu`))

ENGINE = InnoDB;





-- -----------------------------------------------------

-- Table `database-qllk`.`DONVITINH`

>>>>>>> component
-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `database-qllk`.`DONVITINH` (

  `MaDV` VARCHAR(10) NOT NULL,

  `TenDV` NVARCHAR(45) NULL,

  PRIMARY KEY (`MaDV`))

ENGINE = InnoDB;





-- -----------------------------------------------------
<<<<<<< HEAD
=======

-- Table `database-qllk`.`MATHANG`

-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `database-qllk`.`MATHANG` (

  `MaMH` VARCHAR(10) NOT NULL,

  `TenMH` NVARCHAR(45) NOT NULL,

  `HangSX` NVARCHAR(45) NULL,

  `MaDV` VARCHAR(10) NULL,

  `CauHinh` NVARCHAR(100) NULL,

  `HinhMH` NVARCHAR(30) NULL,

  `MaLoai` VARCHAR(10) NULL,

  `MaKhu` VARCHAR(4) NULL,

  `SoLuong` INT NULL,

  PRIMARY KEY (`MaMH`),

  INDEX `MaLoai_idx` (`MaLoai` ASC),

  INDEX `MaKhu_idx` (`MaKhu` ASC),

  INDEX `MaDV_idx` (`MaDV` ASC),

  CONSTRAINT `MaLoai`
    FOREIGN KEY (`MaLoai`)

    REFERENCES `database-qllk`.`LOAIMATHANG` (`MaLoai`)

    ON DELETE NO ACTION

    ON UPDATE NO ACTION,

  CONSTRAINT `MaKhu`

    FOREIGN KEY (`MaKhu`)

    REFERENCES `database-qllk`.`KHO` (`MaKhu`)

    ON DELETE NO ACTION

    ON UPDATE NO ACTION,

  CONSTRAINT `MaDV`

    FOREIGN KEY (`MaDV`)

    REFERENCES `database-qllk`.`DONVITINH` (`MaDV`)

    ON DELETE NO ACTION

    ON UPDATE NO ACTION)

ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`LOAIMATHANG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`LOAIMATHANG` (
  `MaLoai` VARCHAR(10) NOT NULL,
  `TenLoai` NVARCHAR(45) NOT NULL,
  PRIMARY KEY (`MaLoai`))
ENGINE = InnoDB;



-- -----------------------------------------------------
>>>>>>> component
-- Table `database-qllk`.`PHONGBAN`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`PHONGBAN` (
  `MaPhong` VARCHAR(10) NOT NULL,
  `TenPhong` NVARCHAR(45) NOT NULL,
  PRIMARY KEY (`MaPhong`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`NHANVIEN`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`NHANVIEN` (
  `MaNV` VARCHAR(10) NOT NULL,
  `TenNV` NVARCHAR(45) NOT NULL,
  `Phai` NVARCHAR(4) NULL,
  `MaPhong` VARCHAR(10) NULL,
  PRIMARY KEY (`MaNV`),
  CONSTRAINT `fk_NHANVIEN_PHONGBAN`
    FOREIGN KEY (`MaPhong`)
    REFERENCES `database-qllk`.`PHONGBAN` (`MaPhong`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`KHACHHANG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`KHACHHANG` (
  `MaKH` VARCHAR(10) NOT NULL,
  `TenKH` NVARCHAR(45) NOT NULL,
  `DiaChi` NVARCHAR(60) NULL,
  `Email` VARCHAR(40) NULL,
  `SoDT` VARCHAR(15) NOT NULL,
  PRIMARY KEY (`MaKH`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`HOADON`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`HOADON` (
  `MaHD` VARCHAR(10) NOT NULL,
  `NgayLap` DATETIME NULL,
  `MaSoThue` VARCHAR(45) NULL,
  `TienThanhToan` NVARCHAR(45) NOT NULL,
  `LoaiHD` VARCHAR(7) NOT NULL,
  `MaNV` VARCHAR(10) NULL,
  `MaKH` VARCHAR(10) NULL,
  PRIMARY KEY (`MaHD`),
  CONSTRAINT `fk_HOADON_NHANVIEN`
    FOREIGN KEY (`MaNV`)
    REFERENCES `database-qllk`.`NHANVIEN` (`MaNV`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_HOADON_KHACHHANG`
    FOREIGN KEY (`MaKH`)
    REFERENCES `database-qllk`.`KHACHHANG` (`MaKH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`MATHANG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`MATHANG` (
  `MaMH` VARCHAR(10) NOT NULL,
  `TenHang` NVARCHAR(45) NOT NULL,
  `DonViTinh` NVARCHAR(10) NULL,
  `HangSX` NVARCHAR(45) NULL,
  `ThoiGianBaoHanh` DATETIME NULL,
  `HinhMinhHoa` VARCHAR(45) NULL,
  `MaLoai` VARCHAR(10) NULL,
  PRIMARY KEY (`MaMH`),
  CONSTRAINT `fk_MATHANG_LOAIMATHANG`
    FOREIGN KEY (`MaLoai`)
    REFERENCES `database-qllk`.`LOAIMATHANG` (`MaLoai`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`CHITIETHOADON`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`CHITIETHOADON` (
  `MaCTHD` VARCHAR(10) NOT NULL,
  `DonGiaBan` NVARCHAR(45) NOT NULL,
  `SoLuong` INT NULL,
  `MaHD` VARCHAR(10) NULL,
  `MaMH` VARCHAR(10) NULL,
  PRIMARY KEY (`MaCTHD`),
  CONSTRAINT `fk_CHITIETHOADON_HOADON`
    FOREIGN KEY (`MaHD`)
    REFERENCES `database-qllk`.`HOADON` (`MaHD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHITIETHOADON_MATHANG`
    FOREIGN KEY (`MaMH`)
    REFERENCES `database-qllk`.`MATHANG` (`MaMH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`PHIEUBAOHANH`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`PHIEUBAOHANH` (
  `MaPBH` VARCHAR(10) NOT NULL,
  `NgayLap` DATETIME NOT NULL,
  `GhiChu` NVARCHAR(50) NULL,
  `MaMH` VARCHAR(10) NULL,
  `MaHD` VARCHAR(10) NULL,
  PRIMARY KEY (`MaPBH`),
  CONSTRAINT `fk_PHIEUBAOHANH_MATHANG`
    FOREIGN KEY (`MaMH`)
    REFERENCES `database-qllk`.`MATHANG` (`MaMH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PHIEUBAOHANH_HOADON`
    FOREIGN KEY (`MaHD`)
    REFERENCES `database-qllk`.`HOADON` (`MaHD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`HANGTONKHO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`HANGTONKHO` (
  `MaKhu` VARCHAR(4) NOT NULL,
  `SoLuongTon` INT NULL,
  `MaMH` VARCHAR(10) NULL,
  PRIMARY KEY (`MaKhu`),
  CONSTRAINT `fk_HANGTONKHO_MATHANG`
    FOREIGN KEY (`MaMH`)
    REFERENCES `database-qllk`.`MATHANG` (`MaMH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`NHACUNGCAP`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`NHACUNGCAP` (
  `MaNCC` VARCHAR(10) NOT NULL,
  `TenNCC` NVARCHAR(50) NULL,
  `DiaChiNCC` NVARCHAR(50) NULL,
  `EmailNCC` VARCHAR(40) NULL,
  `SoDTNCC` VARCHAR(15) NULL,
  PRIMARY KEY (`MaNCC`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`DONDATHANG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`DONDATHANG` (
  `MaDDH` VARCHAR(10) NOT NULL,
  `NgayLap` DATETIME NULL,
  `MaNV` VARCHAR(10) NULL,
  `MaNCC` VARCHAR(10) NULL,
  PRIMARY KEY (`MaDDH`),
  CONSTRAINT `fk_DONDATHANG_NHANVIEN`
    FOREIGN KEY (`MaNV`)
    REFERENCES `database-qllk`.`NHANVIEN` (`MaNV`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DONDATHANG_NHACUNGCAP`
    FOREIGN KEY (`MaNCC`)
    REFERENCES `database-qllk`.`NHACUNGCAP` (`MaNCC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`CHITIETDONDATHANG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`CHITIETDONDATHANG` (
  `MaCTDDH` VARCHAR(10) NOT NULL,
  `DonGia` VARCHAR(45) NULL,
  `SoLuong` INT NULL,
  `MaDDH` VARCHAR(10) NULL,
  `MaMH` VARCHAR(10) NULL,
  PRIMARY KEY (`MaCTDDH`),
  CONSTRAINT `fk_CHITIETDONDATHANG_DONDATHANG`
    FOREIGN KEY (`MaDDH`)
    REFERENCES `database-qllk`.`DONDATHANG` (`MaDDH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHITIETDONDATHANG_MATHANG`
    FOREIGN KEY (`MaMH`)
    REFERENCES `database-qllk`.`MATHANG` (`MaMH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`PHANQUYEN`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`PHANQUYEN` (
  `MaPQ` VARCHAR(10) NOT NULL,
  `TenPQ` NVARCHAR(45) NULL,
  PRIMARY KEY (`MaPQ`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`DANGNHAP`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`DANGNHAP` (
  `MaDN` VARCHAR(10) NOT NULL,
  `TenHienThi` NVARCHAR(30) NULL,
  `Username` NVARCHAR(100) NULL,
  `Password` VARCHAR(20) NULL,
  `MaPQ` VARCHAR(10) NULL,
  PRIMARY KEY (`MaDN`),
  CONSTRAINT `fk_DANGNHAP_PHANQUYEN`
    FOREIGN KEY (`MaPQ`)
    REFERENCES `database-qllk`.`PHANQUYEN` (`MaPQ`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`PHIEUNHAPHANG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`PHIEUNHAPHANG` (
  `MaPN` VARCHAR(10) NOT NULL,
  `NgayLapPhieu` DATETIME NULL,
  PRIMARY KEY (`MaPN`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`CHITIETPHIEUNHAP`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`CHITIETPHIEUNHAP` (
  `MaCTPN` VARCHAR(10) NOT NULL,
  `SoLuong` INT NULL,
  `DonGia` VARCHAR(45) NULL,
  `DonGiaBan` VARCHAR(45) NULL,
  `GhiChu` VARCHAR(45) NULL,
  `MaMH` VARCHAR(10) NULL,
  `MaPN` VARCHAR(10) NULL,
  PRIMARY KEY (`MaCTPN`),
  CONSTRAINT `fk_CHITIETPHIEUNHAP_MATHANG`
    FOREIGN KEY (`MaMH`)
    REFERENCES `database-qllk`.`MATHANG` (`MaMH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHITIETPHIEUNHAP_PHIEUNHAPHANG`
    FOREIGN KEY (`MaPN`)
    REFERENCES `database-qllk`.`PHIEUNHAPHANG` (`MaPN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`PHIEUXUATHANG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`PHIEUXUATHANG` (
  `MaPX` VARCHAR(10) NOT NULL,
  `NgayLapPhieu` DATETIME NULL,
  PRIMARY KEY (`MaPX`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `database-qllk`.`CHITIETPHIEUXUAT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `database-qllk`.`CHITIETPHIEUXUAT` (
  `MaCTPX` VARCHAR(10) NOT NULL,
  `SoLuong` INT NULL,
  `GhiChu` VARCHAR(45) NULL,
  `MaMH` VARCHAR(10) NULL,
  `MaKH` VARCHAR(10) NULL,
  `MaCTPN` VARCHAR(10) NULL,
  `MaPX` VARCHAR(10) NULL,
  PRIMARY KEY (`MaCTPX`),
  CONSTRAINT `fk_CHITIETPHIEUXUAT_MATHANG`
    FOREIGN KEY (`MaMH`)
    REFERENCES `database-qllk`.`MATHANG` (`MaMH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHITIETPHIEUXUAT_KHACHHANG`
    FOREIGN KEY (`MaKH`)
    REFERENCES `database-qllk`.`KHACHHANG` (`MaKH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHITIETPHIEUXUAT_CHITIETPHIEUNHAP`
    FOREIGN KEY (`MaCTPN`)
    REFERENCES `database-qllk`.`CHITIETPHIEUNHAP` (`MaCTPN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHITIETPHIEUXUAT_PHIEUXUATHANG`
    FOREIGN KEY (`MaPX`)
    REFERENCES `database-qllk`.`PHIEUXUATHANG` (`MaPX`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
